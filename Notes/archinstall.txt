gdisk /dev/sdX
: n
: 
: 
: +200M

: L 
: efi
: ef00

: n
: 
: 
: 
:

: w
: y
------------------------------

cryptsetup -y -v luksFormat /dev/sdX2
: YES
: <PASSWD>
: <PASSWD>

cryptsetup open /dev/sdX cryptroot

mkfs.ext4 /dev/mapper/cryptroot

mkfs.fat -F32 /dev/sdX1

mount /dev/mapper/cryptroot /mnt

mkdir /mnt/boot

mount /dev/sdX1 /mnt/boot

pacstrap /mnt base linux linux-firmware intel-ucode vim 
genfstab -U /mnt >> /mnt/etc/fstab

arch-chroot /mnt

fallocate -l 2GB /swapfile

chmod 600 /swapfile

mkswap /swapfile

swapon /swapfile

vim /etc/fstab
__
/swapfile none swap defaults 0 0
__


ln -sf /usr/share/zoneinfo/Europe/Copenhagen /etc/localtime
hwclock --systohc

vim /etc/locale.gen
__
en_US.UTF-8
__

locale-gen

echo LANG=en_US.UTF-8 >> /etc/locale.conf

echo KEYMAP=us >> /etc/vconsole.conf

echo "archlinux" > /etc/hostname

passwd root

pacman -S grub efibootmgr wpa_supplicant dhcpcd mtools dosfstools base-devel linux-headers dialog git

vim /etc/mkinitcpio.conf
______
HOOKS=(base udev autodetect keyboard keymap modconf block encrypt filesystems, keyboard fsck)
____

mkinitcpio -p linux

grub-install --target=x86_64-efi --efi-directory=/boot --bootloader-id=GRUB

grub-mkconfig -o /boot/grub/grub.cfg

vim /etc/default/grub
______
GRUB_CMDLINE_LINUX="cryptdevice=UUID=<UUID>:cryptroot root=/dev/mapper/cryptroot"
______

grub-mkconfig -o /boot/grub/grub.cfg


